<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Secure Blue - Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="page-view active"
        style="background-color: #f3f4f6; align-items: flex-start; display: flex;">
        <div class="container max-w-4xl" style="margin-top: 2rem;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <div>
                    <h1 class="header-title" style="font-size: 1.875rem;">Admin Dashboard</h1>
                    <p class="header-subtitle" style="margin-bottom: 0;">Manage elections and candidates</p>
                </div>
                <button onclick="logout()" class="btn btn-outline" style="border-color: #ef4444; color: #ef4444;">
                    Logout
                </button>
            </div>

            <!-- Admin Tabs -->
            <div class="admin-tabs">
                <button id="addElectionTab" class="tab-btn active" onclick="setActiveTab('addElectionTab')">Add
                    Election</button>
                <button id="addCandidateTab" class="tab-btn" onclick="setActiveTab('addCandidateTab')">Add
                    Candidate</button>
                <button id="deleteTab" class="tab-btn" onclick="setActiveTab('deleteTab')">Delete
                    Election/Candidate</button>
            </div>

            <div class="dashboard-content">

                <!-- Add Election Form -->
                <div id="electionContent" class="">
                    <form id="electionForm">
                        <h2 class="header-title" style="font-size: 1.5rem;">Create New Election</h2>
                        <p class="header-subtitle" style="margin-bottom: 2rem; font-size: 0.875rem;">Add a new election
                            to the system</p>

                        <div class="form-group">
                            <label for="electionTitle" class="form-label">Election Title</label>
                            <input type="text" id="electionTitle" name="electionTitle"
                                placeholder="e.g., Presidential Election 2025" required class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="description" class="form-label">Description</label>
                            <textarea id="description" name="description" rows="4"
                                placeholder="Brief description of the election" required
                                class="form-textarea"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-col">
                                <label for="startDate" class="form-label">Start Date</label>
                                <input type="date" id="startDate" name="startDate" required class="form-input">
                            </div>
                            <div class="form-col">
                                <label for="endDate" class="form-label">End Date</label>
                                <input type="date" id="endDate" name="endDate" required class="form-input">
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1.5rem;">Add
                            Election</button>
                    </form>
                </div>

                <!-- Add Candidate Form -->
                <div id="candidateContent" class="hidden">
                    <form id="candidateForm">
                        <h2 class="header-title" style="font-size: 1.5rem;">Add New Candidate</h2>
                        <p class="header-subtitle" style="margin-bottom: 2rem; font-size: 0.875rem;">Register a
                            candidate for an election</p>

                        <div class="form-group">
                            <label for="candidateName" class="form-label">Candidate Name</label>
                            <input type="text" id="candidateName" name="candidateName" placeholder="Full name" required
                                class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="party" class="form-label">Party</label>
                            <input type="text" id="party" name="party" placeholder="Political party or affiliation"
                                required class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="biography" class="form-label">Biography</label>
                            <textarea id="biography" name="biography" rows="4"
                                placeholder="Brief biography and qualifications" required
                                class="form-textarea"></textarea>
                        </div>
                        <div class="form-group" style="margin-bottom: 2.5rem;">
                            <label for="election" class="form-label">Election (ID or Title)</label>
                            <input type="text" id="election" name="election" placeholder="Election ID or name" required
                                list="election-names" class="form-input">
                            <datalist id="election-names"></datalist>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Add Candidate</button>
                    </form>
                </div>

                <!-- Delete Election/Candidate -->
                <div id="deleteContent" class="hidden">
                    <h2 class="header-title" style="font-size: 1.5rem; margin-bottom: 1rem;">Delete Election or
                        Candidate</h2>
                    <p class="header-subtitle" style="margin-bottom: 1.5rem; font-size: 0.875rem;">Select an election or
                        candidate to remove from the system.</p>

                    <div class="form-group">
                        <label for="deleteElectionSelect" class="form-label">Select Election</label>
                        <select id="deleteElectionSelect" class="form-select"></select>
                    </div>

                    <div class="form-group">
                        <label for="deleteCandidateSelect" class="form-label">Select Candidate (optional)</label>
                        <select id="deleteCandidateSelect" class="form-select"></select>
                    </div>

                    <button onclick="handleDelete()" class="btn btn-danger" style="width: 100%;">Delete
                        Selected</button>
                </div>
            </div>

            <!-- Modal -->
            <div id="messageBox" class="modal-overlay hidden">
                <div class="modal-box">
                    <h3 id="messageTitle" style="font-size: 1.25rem; font-weight: 700; margin-bottom: 0.75rem;"></h3>
                    <p id="messageText" style="color: var(--text-secondary); margin-bottom: 1rem;"></p>
                    <button onclick="closeMessageBox()" class="btn btn-primary"
                        style="width: 100%; padding: 0.5rem;">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/app.js"></script>
    <script>
        function logout() {
            window.location.href = '/';
        }
    </script>
</body>

</html>